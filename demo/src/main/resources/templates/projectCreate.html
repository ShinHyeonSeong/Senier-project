<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<title>Border Project Manager</title>
	<link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css'>
	<link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.css'>
	<link rel="stylesheet" href="/css/nav.css">
	<link rel="stylesheet" href="/css/projectCreate.css">
	<script src="https://kit.fontawesome.com/16dd1d1568.js" crossorigin="anonymous"></script>
	<!-- partial -->
	<!-- <script src='https://code.jquery.com/jquery-3.4.1.min.js'></script>
	<script src='https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js'></script>
	<script src='https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js'></script>
	<script src="../js/login.js"></script>
	<script>
		const loremIpsum = document.getElementById("lorem-ipsum")
		fetch("https://baconipsum.com/api/?type=all-meat&paras=200&format=html")
				.then(response => response.text())
				.then(result => loremIpsum.innerHTML = result)
	</script> -->

</head>

<body>

<nav class="navbar navbar-expand-custom navbar-mainbg">
	<a class="navbar-brand navbar-logo" href="#"><img class="navbar-logo-image" src="../img/logo.png">BPM</a>
	<div class="collapse navbar-collapse" id="navbarSupportedContent">
		<ul class="navbar-nav ml-auto">
			<li class="nav-item">
				<a class="nav-link" th:text="${nowUser.name}">님</a>
			</li>
			<li class="nav-item">
				<a class="nav-link" href="/user/account">마이페이지</a>
			</li>
			<li class="nav-item">
				<a class="nav-link" href="/user/logout">로그아웃</a>
			</li>
		</ul>
	</div>
</nav>
<div class="container">
	<input type="hidden" th:name="nowUser" th:value="${nowUser.getUuid()}">
	<div class="head-container">
		<h3 style="text-align: center;">프로젝트 생성</h3>
	</div>
	
	<div class="section">
		<form name="projectForm" action="/project/createPage" method="post">
			<!-- <label for="project-title">프로젝트 제목:</label><br> -->
			<input placeholder="제목을 적으시오." type="text" id="project-title" name="title"><br>
			
			<!-- <label for="project-description">프로젝트 소개:</label><br> -->
			<textarea placeholder="소개를 적으시오." id="project-description" name="subtitle"
					  class="description"></textarea><br>
			
			<!-- <label>시작 날짜 : </label><br> -->
			<input name="startDay" class="input-box" id="startDay" type="text"
				   placeholder="시작 날짜 : 0000-00-00(연 월 일)">
			
			<!-- <label>끝난 날짜 : </label></label><br> -->
			<input name="endDay" class="input-box" id="endDay" type="text" placeholder="끝난 날짜 : 0000-00-00(연 월 일)">
			<br>
			<div class="bottom-section">
				<a href="/project/projectAllList">
					<button class="write-button">돌아가기</button>
				</a>
				<button type="button" onclick="checkForm()" class="write-button2">
					새로 만들기
				</button>
			</div>
		</form>
	</div>
	<br>
	
	<script>
		var title = document.getElementById("project-title");
		var description = document.getElementById("project-description");
		var startDay = document.getElementById("startDay");
		var endDay = document.getElementById("endDay");
		
		function checkForm() {
			if (title.value.length == 0) {
				alert("제목을 입력하시오.")
				title.focus();
				return false;
			}
			if (description.value.length == 0) {
				alert("설명 입력하시오.")
				title.focus();
				return false;
			}
			
			try {
				var date = value.split("-");
				var y = parseInt(date[0], 10),
						m = parseInt(date[1], 10),
						d = parseInt(date[2], 10);
				
				var dateRegex = /^(?=\d)(?:(?:31(?!.(?:0?[2469]|11))|(?:30|29)(?!.0?2)|29(?=.0?2.(?:(?:(?:1[6-9]|[2-9]\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00)))(?:\x20|$))|(?:2[0-8]|1\d|0?[1-9]))([-.\/])(?:1[012]|0?[1-9])\1(?:1[6-9]|[2-9]\d)?\d\d(?:(?=\x20\d)\x20|$))?(((0?[1-9]|1[012])(:[0-5]\d){0,2}(\x20[AP]M))|([01]\d|2[0-3])(:[0-5]\d){1,2})?$/;
				result = dateRegex.test(d + '-' + m + '-' + y);
			} catch (err) {
				result = false;
			}
			document.projectForm.submit();
		}
	
	</script>
</div>
</body>

</html>